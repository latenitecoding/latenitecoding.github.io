<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://latenitecoding.github.io/style.css">
    <link rel="stylesheet" href="https://latenitecoding.github.io/color/blue.css">

        <link rel="stylesheet" href="https://latenitecoding.github.io/color/background_dark.css">
    
    <link rel="stylesheet" href="https://latenitecoding.github.io/font-hack.css">

    <meta name="description" content="">

    <meta property="og:description" content="">
    <meta property="og:title" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://latenitecoding.github.io/set-ops/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="">
    <meta property="twitter:domain" content="latenitecoding.github.io">
    <meta property="twitter:url" content="https://latenitecoding.github.io/set-ops/">

        
            <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
            
                <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
            
        
        
            <script type="module">
            import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            </script>
        
    

    
        
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
        
    
    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://latenitecoding.github.io" style="text-decoration: none;">
                    <div class="logo">
                      
                            Algo Owls
                        
                    </div>
                </a>
            </div>
        </div>

        
        
                <nav class="menu">
            <ul class="menu__inner">
                <li class="active"><a href="https://latenitecoding.github.io">home</a></li>
            
                <li><a href="https://latenitecoding.github.io/algorithms">algorithms</a></li>
            
                <li><a href="https://latenitecoding.github.io/data-structures">structures</a></li>
            
                <li><a href="https://latenitecoding.github.io/theory">theory</a></li>
            
                <li><a href="https://latenitecoding.github.io/tricks">tricks</a></li>
            
                <li><a href="https://latenitecoding.github.io/languages">languages</a></li>
            
                <li><a href="https://latenitecoding.github.io/exercises">exercises</a></li>
            
                <li><a href="https://latenitecoding.github.io/contests">contests</a></li>
            
                <li><a href="https://latenitecoding.github.io/tags">tags</a></li>
            
                <li><a href="https://latenitecoding.github.io/archive">archive</a></li>
            
                <li><a href="https://latenitecoding.github.io/about">about</a></li>
            
                <li><a href="https://github.com/latenitecoding/algo_owls" target="_blank" rel="noopener noreferrer">github</a></li>
            
                <li><a href="https://github.com/latenitecoding/algo_owls_solutions" target="_blank" rel="noopener noreferrer">solutions</a></li>
            </ul>
        </nav>
    
    
        
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://latenitecoding.github.io/set-ops/">Set Ops</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2024-03-06
        </span>

    </div>

    
        <span class="post-tags-inline">
                :: tags:&nbsp;
                <a class="post-tag" href="https://latenitecoding.github.io/tags/set-theory/">#set-theory</a></span>
    

        <div class="post-content">
            <h3 id="fast-union-size"><a class="zola-anchor" href="#fast-union-size" aria-label="Anchor link for: fast-union-size"><em>Fast Union Size</em></a></h3>
<p>See <a href="https://latenitecoding.github.io/set-theory/#set-union">Set Union</a>.</p>
<p>There are several ways to compute the union of sets that range in complexity from \(O(n)\) to \(O(n^3)\), where \(n = |S_1| + |S_2| + ...\). The notation \(|X|\) represents the <em>cardinality</em> or <em>size</em> of the set X (i.e., the number of elements that it contains). This particular approach to computing the union of sets is \(O(n)\). Its purpose is to increase the performance of computing the union of sets across multiple <strong>successive computations</strong> of a set union by reducing mem allocations. It can generally be applied in cases where only the size of the union is needed rather than the individual elements in the union.</p>
<p>Given sets A, B, and C, to compute \(|A \cup B \cup C|\), we would normally compute \(A \cup B\) and then compute \((A \cup B) \cup C\). In this case, two set unions would be computed. In general, given \(m\) sets, \(m - 1\) set unions have to be computed. In the previous example, the intermediate set \(A \cup B\) has to be computed first. Space has to be allocated to hold this set. In order to improve performance, this intermediate should be reused across successive union operations to prevent wasted mem allocations. However, if many different set unions have to be computed that will not be combined--or it is at least unclear if they will be combined--then separate intermediate sets have to be allocated for, which results in reduced performance. In such cases, this algorithm can help by employing an array that can be reused across successive unions.</p>
<p>Requirements:</p>
<ul>
<li>Computing many unions across sets A, B, C, ..., where each set is a subset of some known universal set U whose size is \(n\).</li>
</ul>
<pre data-lang="java" style="background-color:#151515;color:#e8e8d3;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#8fbfdc;">int[]</span><span> union = new </span><span style="color:#8fbfdc;">int</span><span>[n];
</span><span style="color:#8fbfdc;">int[][]</span><span> sets = { ... };
</span><span style="color:#8fbfdc;">for </span><span>(</span><span style="color:#8fbfdc;">int</span><span> i = </span><span style="color:#cf6a4c;">1</span><span>; i &lt; sets.length; i++) {
</span><span>    </span><span style="color:#8fbfdc;">int</span><span> size = </span><span style="color:#cf6a4c;">0</span><span>;
</span><span>    </span><span style="color:#8fbfdc;">for </span><span>(</span><span style="color:#8fbfdc;">int</span><span> j = </span><span style="color:#cf6a4c;">0</span><span>; j &lt; sets[i - </span><span style="color:#cf6a4c;">1</span><span>].length; j++) {
</span><span>        </span><span style="color:#8fbfdc;">int</span><span> x = sets[i - </span><span style="color:#cf6a4c;">1</span><span>][j]; </span><span style="color:#888888;">// assume that values of x start at 1
</span><span>        </span><span style="color:#8fbfdc;">if </span><span>(union[x - </span><span style="color:#cf6a4c;">1</span><span>] == i) </span><span style="color:#8fbfdc;">continue</span><span>; </span><span style="color:#888888;">// already in the union
</span><span>        union[x - </span><span style="color:#cf6a4c;">1</span><span>] = i; </span><span style="color:#888888;">// not already in the union
</span><span>        size++;
</span><span>    }
</span><span>    </span><span style="color:#8fbfdc;">for </span><span>(</span><span style="color:#8fbfdc;">int</span><span> k = </span><span style="color:#cf6a4c;">0</span><span>; k &lt; sets[i].length; k++) {
</span><span>        </span><span style="color:#8fbfdc;">int</span><span> x = sets[i][k];
</span><span>        </span><span style="color:#8fbfdc;">if </span><span>(union[x - </span><span style="color:#cf6a4c;">1</span><span>] == i) </span><span style="color:#8fbfdc;">continue</span><span>;
</span><span>        union[x - </span><span style="color:#cf6a4c;">1</span><span>] = i;
</span><span>        size++;
</span><span>    }
</span><span>    </span><span style="color:#ffb964;">System</span><span>.out.</span><span style="color:#ffb964;">printf</span><span>(</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">Set %d union Set %d has size %d\n</span><span style="color:#556633;">&quot;</span><span>, i - </span><span style="color:#cf6a4c;">1</span><span>, i, size);
</span><span>}
</span></code></pre>
<p><em>See <a href="https://latenitecoding.github.io/fast-union-size/">Snippets</a>.</em></p>

        </div>

        
        <div class="pagination">
            <div class="pagination__title">
                <span class="pagination__title-h">Read more</span>
                <hr />
            </div>
            <div class="pagination__buttons">
                
                    <span class="button next">
                        <a href="https://latenitecoding.github.io/bitwise-ops/">
                            <span class="button__text">Bitwise Ops</span>&nbsp;
                            <span class="button__icon">→</span>
                        </a>
                    </span>
                </div>
        </div>
    
    </div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2024
 Powered by <a href="https://www.getzola.org/">Zola</a></span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
