<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://latenitecoding.github.io/style.css">
    <link rel="stylesheet" href="https://latenitecoding.github.io/color/blue.css">

        <link rel="stylesheet" href="https://latenitecoding.github.io/color/background_dark.css">
    
    <link rel="stylesheet" href="https://latenitecoding.github.io/font-hack.css">

    <meta name="description" content="">

    <meta property="og:description" content="">
    <meta property="og:title" content="">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://latenitecoding.github.io/on-call-team/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="">
    <meta property="twitter:domain" content="latenitecoding.github.io">
    <meta property="twitter:url" content="https://latenitecoding.github.io/on-call-team/">

        
            <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
            
                <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
            
        
        
            <script type="module">
            import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
            </script>
        
    

    
        
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
        
    
    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://latenitecoding.github.io" style="text-decoration: none;">
                    <div class="logo">
                      
                            Algo Owls
                        
                    </div>
                </a>
            </div>
        </div>

        
        
                <nav class="menu">
            <ul class="menu__inner">
                <li class="active"><a href="https://latenitecoding.github.io">home</a></li>
            
                <li><a href="https://latenitecoding.github.io/algorithms">algorithms</a></li>
            
                <li><a href="https://latenitecoding.github.io/data-structures">structures</a></li>
            
                <li><a href="https://latenitecoding.github.io/theory">theory</a></li>
            
                <li><a href="https://latenitecoding.github.io/tricks">tricks</a></li>
            
                <li><a href="https://latenitecoding.github.io/languages">languages</a></li>
            
                <li><a href="https://latenitecoding.github.io/exercises">exercises</a></li>
            
                <li><a href="https://latenitecoding.github.io/contests">contests</a></li>
            
                <li><a href="https://latenitecoding.github.io/tags">tags</a></li>
            
                <li><a href="https://latenitecoding.github.io/archive">archive</a></li>
            
                <li><a href="https://latenitecoding.github.io/about">about</a></li>
            
                <li><a href="https://github.com/latenitecoding/algo_owls" target="_blank" rel="noopener noreferrer">github</a></li>
            
                <li><a href="https://github.com/latenitecoding/algo_owls_solutions" target="_blank" rel="noopener noreferrer">solutions</a></li>
            </ul>
        </nav>
    
    
        
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://latenitecoding.github.io/on-call-team/">On-Call Team</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2024-03-04
        </span>

    </div>

    
        <span class="post-tags-inline">
                :: tags:&nbsp;
                <a class="post-tag" href="https://latenitecoding.github.io/tags/icpc/">#icpc</a>&nbsp;
                <a class="post-tag" href="https://latenitecoding.github.io/tags/regionals-2023/">#regionals-2023</a></span>
    

        <div class="post-content">
            <p>This problem was introduced as part of the 2023 ICPC Regionals Contest held on Feb. 24th, 2024 for the SCUSA region. It is now archived on Kattis.</p>
<p><a href="https://open.kattis.com/problems/oncallteam">Problem Link</a></p>
<p><a href="http://serjudging.vanb.org/?cat=47">Test Cases and Solution</a></p>
<details>
    <summary>&nbsp;Reveal Solution </summary>
    <br>
    <p>The number of services indicated in the problem is limited to a maximum size of 20 services. The size of the <a href="https://latenitecoding.github.io/set-theory/#power-set">power set</a> of these services is therefore limited to \(2^{20} \approx 10^6\), which is solvable.</p>
<ol>
<li>
<p>Assume that the <em>target robustness level</em> is the maximum number of services \(m\). Then, compute each possible selection of services by looking at each number in range 1..\(2^m\) (exclusive). Each of these numbers represents some selection of bits, where the jth bit indicates whether the jth service has been selected. Let's call this number the <em>mask</em>.</p>
<ul>
<li>
<p>Given some jth service, you can determine whether that service has been selected by computing the bitwise AND of the mask and \(2^j\). If the result is greater than 0, then the jth service has been selected. See <a href="https://latenitecoding.github.io/bitwise-ops/#bitwise-and">Bitwise AND</a>.</p>
<pre data-lang="java" style="background-color:#151515;color:#e8e8d3;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#8fbfdc;">for </span><span>(</span><span style="color:#8fbfdc;">int</span><span> mask = </span><span style="color:#cf6a4c;">1</span><span>; mask &lt; (</span><span style="color:#cf6a4c;">1 </span><span>&lt;&lt; m); mask++) {
</span><span>    </span><span style="color:#8fbfdc;">if </span><span>((mask &amp; (</span><span style="color:#cf6a4c;">1 </span><span>&lt;&lt; j)) &gt; </span><span style="color:#cf6a4c;">0</span><span>) {
</span><span>       </span><span style="color:#888888;">// the jth service is in the selection
</span><span>    }
</span><span>}
</span></code></pre>
</li>
</ul>
</li>
<li>
<p>For each selected service, iterate over the engineers that are assignable to that service. Compute the total number of engineers that can be assigned to at least one of the selected services. This is the <em>number of assignable engineers</em>.</p>
<ul>
<li>
<p>To assist with this step, you can assign each engineer to each service they can support when the engineers are first processed. Thus, the engineers that are assignable to each service will already be known when this step is reached. This also improves the performance of computing the union of assignable engineers by limiting our scope to only those engineers that are known to be within the union. The following snippet can be used to assign engineers to their respective services. Note that an array is used instead of an <code>ArrayList</code> or <code>HashSet</code>. See <a href="https://latenitecoding.github.io/java/#generics">Generics</a>.</p>
<pre data-lang="java" style="background-color:#151515;color:#e8e8d3;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#8fbfdc;">int[]</span><span> sizes = new </span><span style="color:#8fbfdc;">int</span><span>[m];
</span><span style="color:#8fbfdc;">int[][]</span><span> cache = new </span><span style="color:#8fbfdc;">int</span><span>[m][n];
</span><span style="color:#8fbfdc;">for </span><span>(</span><span style="color:#8fbfdc;">int</span><span> i = </span><span style="color:#cf6a4c;">0</span><span>; i &lt; n; i++) {
</span><span>   </span><span style="color:#8fbfdc;">int</span><span> eBits = </span><span style="color:#ffb964;">Integer</span><span>.</span><span style="color:#ffb964;">parseInt</span><span>(reader.</span><span style="color:#ffb964;">readLine</span><span>(), </span><span style="color:#cf6a4c;">2</span><span>);
</span><span>   </span><span style="color:#8fbfdc;">for </span><span>(</span><span style="color:#8fbfdc;">int</span><span> j = </span><span style="color:#cf6a4c;">0</span><span>, b = </span><span style="color:#cf6a4c;">1</span><span>; j &lt; m; j++, b &lt;&lt;= </span><span style="color:#cf6a4c;">1</span><span>) {
</span><span>       </span><span style="color:#8fbfdc;">if </span><span>((eBits &amp; b) == </span><span style="color:#cf6a4c;">0</span><span>) </span><span style="color:#8fbfdc;">continue</span><span>;
</span><span>       cache[j][sizes[j]++] = i + </span><span style="color:#cf6a4c;">1</span><span>;
</span><span>   }
</span><span>}
</span></code></pre>
<p><em>See <a href="https://latenitecoding.github.io/caching-engineers/">Snippets</a>.</em></p>
</li>
<li>
<p>To compute the number of assignable engineers, you have to compute the size of the union of engineers that can be assigned to any of the services in the selection. Since you'll have to do this for each mask, you'll need to compute the sizes of many different unions. This process can easily lead to wasted performance and memory. To improve the process, you can reuse an <code>int[]</code> to mark which engineers are the current union. See <a href="https://latenitecoding.github.io/set-ops/#fast-union-size">Fast Union Size</a>.</p>
<pre data-lang="java" style="background-color:#151515;color:#e8e8d3;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#888888;">// assume that there is an int[] union = new int[n];
</span><span style="color:#8fbfdc;">int</span><span> unionSize = </span><span style="color:#cf6a4c;">0</span><span>;
</span><span style="color:#8fbfdc;">for </span><span>(</span><span style="color:#8fbfdc;">int</span><span> i = </span><span style="color:#cf6a4c;">0</span><span>; i &lt; sizes[j]; i++) {
</span><span>    </span><span style="color:#8fbfdc;">int</span><span> e = cache[j][i];
</span><span>    </span><span style="color:#8fbfdc;">if </span><span>(union[e - </span><span style="color:#cf6a4c;">1</span><span>] != i) {
</span><span>        </span><span style="color:#888888;">// e is not in the union
</span><span>        union[e - </span><span style="color:#cf6a4c;">1</span><span>] = i;
</span><span>        unionSize++;
</span><span>    }
</span><span>}
</span></code></pre>
<p><em>See <a href="https://latenitecoding.github.io/union-size/">Snippets</a>.</em></p>
</li>
</ul>
</li>
<li>
<p>Let the number of selected services in the mask be \(k\). If the number of assignable engineers (union size) is less than \(k\), then the target robustness level must also be less than \(k\). It can be at most \(k - 1\). Store the minimum robustness level between the current target robustness level and \(k - 1\).</p>
<pre data-lang="java" style="background-color:#151515;color:#e8e8d3;" class="language-java "><code class="language-java" data-lang="java"><span>maxK = </span><span style="color:#ffb964;">Math</span><span>.</span><span style="color:#ffb964;">min</span><span>(maxK, k - </span><span style="color:#cf6a4c;">1</span><span>);
</span></code></pre>
<p><em>See <a href="https://latenitecoding.github.io/min-two/">Snippets</a>.</em></p>
<ul>
<li>
<p>The number of selected services can be computed using the mask bitcount, which is the number of 1-bits in the number.</p>
<pre data-lang="java" style="background-color:#151515;color:#e8e8d3;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#8fbfdc;">int</span><span> k = </span><span style="color:#ffb964;">Integer</span><span>.</span><span style="color:#ffb964;">bitCount</span><span>(mask);
</span></code></pre>
<p><em>See <a href="https://latenitecoding.github.io/bit-count/">Snippets</a>.</em></p>
</li>
</ul>
</li>
</ol>
<p>See</p>
<ul>
<li><a href="https://latenitecoding.github.io/halls-theorem/">Hall's Theorem</a></li>
</ul>
<p>Optimizations</p>
<ul>
<li>
<p>Before considering a mask, compute its bitcount. If its bitcount is larger than the current target robustness level, then ignore the mask. It represents a selection of services larger than the robustness level that can be obtained by the engineers.</p>
</li>
<li>
<p>When computing the size of the union of engineers that can be assigned across the current selection of services, stop once you have enough engineers. As you compute the union, the number of engineers in the union can only grow larger. Once the number of engineers in the union is at least the number of selected services, Hall's theorem has been satisfied. You can move on to the next mask.</p>
</li>
</ul>
</details>

        </div>

        
        <div class="pagination">
            <div class="pagination__title">
                <span class="pagination__title-h">Read more</span>
                <hr />
            </div>
            <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://latenitecoding.github.io/ordered-problem-set/">
                            <span class="button__icon">←</span>&nbsp;
                            <span class="button__text">Ordered Problem Set</span>
                        </a>
                    </span>
                
                
                    <span class="button next">
                        <a href="https://latenitecoding.github.io/matrix-fraud/">
                            <span class="button__text">Matrix Fraud</span>&nbsp;
                            <span class="button__icon">→</span>
                        </a>
                    </span>
                </div>
        </div>
    
    </div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2024
 Powered by <a href="https://www.getzola.org/">Zola</a></span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
